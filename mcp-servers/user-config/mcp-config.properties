# =============================================================================
# MCP Servers Configuration — Base Defaults
# =============================================================================
# This file is COMMITTED to version control. It contains safe defaults only —
# NO secrets, API keys, or machine-specific paths.
#
# HOW CONFIG IS LOADED (highest precedence wins):
#
#   1. Environment variables    MCP_* prefix (recommended for CI/CD)
#   2. mcp-config.local.properties   Your secrets & overrides (GITIGNORED)
#   3. This file                Base defaults (committed, shared)
#
# QUICK START:
#   Run ./scripts/setup.sh (or .\scripts\setup.ps1 on Windows)
#   — or —
#   Copy mcp-config.local.example.properties → mcp-config.local.properties
#   and add your API keys.
#
# KEY CONVENTION:
#   apiKeys.*           API keys / tokens for external services
#   location.*          Timezone, locale, cloud region
#   preferences.*       User preferences (theme, logging, timeouts)
#   browser.*           Browser executable, profile, launch mode, isolation
#   server.{name}.*     Individual MCP server definitions
#   profile.{name}.*    Named configuration profiles (dev, prod, etc.)
#
# ENVIRONMENT VARIABLE OVERRIDE:
#   Prefix with MCP_, convert dots to underscores, uppercase:
#     apiKeys.github  →  MCP_APIKEYS_GITHUB
#     browser.headless →  MCP_BROWSER_HEADLESS
# =============================================================================


# =============================================================================
# 1. GLOBAL SETTINGS
# =============================================================================

# Active profile — which profile.{name}.* block to overlay on base config.
# Leave empty to use base config only.
# Valid values: development, production, testing, or any profile.{name} you define.
config.activeProfile=development


# =============================================================================
# 2. API KEYS — Set via env vars or mcp-config.local.properties
# =============================================================================
# These fields are intentionally EMPTY in the committed file.
# Provide values through either:
#   - Environment variables: export MCP_APIKEYS_GITHUB="ghp_..."
#   - Local config: mcp-config.local.properties (gitignored, safe for secrets)
#
# NEVER put real tokens in this file — it is committed to version control.

# GitHub Personal Access Token
#   Generate: https://github.com/settings/tokens
#   Scopes: repo, read:org (private) or public_repo (public only)
apiKeys.github=

# OpenAI API Key
#   Generate: https://platform.openai.com/api-keys
apiKeys.openai=

# Database Connection String
#   Format: postgresql://user:pass@host:5432/dbname
apiKeys.database=

# Slack Bot Token
#   Generate: https://api.slack.com/apps → OAuth & Permissions
apiKeys.slack=


# =============================================================================
# 3. LOCATION & LOCALE
# =============================================================================

# IANA timezone — https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
location.timezone=America/New_York

# BCP 47 locale tag
location.locale=en-US

# Cloud region (us-east-1, eastus, us-central1, etc.)
location.region=us-east-1


# =============================================================================
# 4. USER PREFERENCES
# =============================================================================

# UI theme hint: dark, light
preferences.theme=dark

# Log level: SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST, DEBUG
preferences.logLevel=INFO

# Max retries for failed server connections (0–10)
preferences.maxRetries=3

# Default timeout in seconds (1–300)
preferences.timeoutSeconds=30

# Auto-connect to enabled servers on startup
preferences.autoConnect=true


# =============================================================================
# 5. BROWSER PREFERENCES
# =============================================================================
# MCP scripts automatically use a DEDICATED browser data directory
# (~/.mcp/browser-data) so your personal tabs, cookies, and profiles
# are NEVER affected. This is true even with zero browser config.
#
# The auto-isolation means:
#   ✓ Existing browser windows/tabs stay untouched
#   ✓ Cookies and sessions are fully separate
#   ✓ No focus stealing from your current browser
#   ✓ Works even if the browser is already running

# Browser executable — leave empty for auto-detection (Chrome > Edge > Firefox > Brave).
# Override in mcp-config.local.properties for machine-specific paths.
browser.executable=

# Browser data directory — where MCP stores its isolated browser data.
# Leave empty for platform default:
#   Linux/Mac: ~/.mcp/browser-data
#   Windows:   %LOCALAPPDATA%\mcp\browser-data
browser.dataDir=

# Profile name within the MCP data directory.
# Leave empty to use the default profile. Only needed for multi-profile setups.
browser.profile=

# Browser-synced account email (leave empty if not syncing)
browser.account=

# Launch mode: new-window (default), new-tab, incognito, app-mode
browser.launchMode=new-window

# Headless mode — no visible UI. For automation/CI.
browser.headless=false

# Chrome DevTools Protocol port (0 = disabled, 9222 = common choice)
browser.remoteDebuggingPort=0

# Window dimensions (0 = browser default)
browser.windowWidth=0
browser.windowHeight=0


# =============================================================================
# 6. MCP SERVER DEFINITIONS
# =============================================================================
# Each server.{name}.* block defines one MCP server connection.
#
# Required per transport:
#   stdio           → command (+ optional args)
#   sse             → url
#   streamable-http → url
#
# Environment variables for server processes use: server.{name}.env.{VAR}
# Secret env vars (tokens) should be set in mcp-config.local.properties.

# --- GitHub MCP Server -------------------------------------------------------
# Provides: repo search, issue management, PR operations, code search
# Install:  npm install -g @modelcontextprotocol/server-github (or use npx)
# Docs:     https://github.com/modelcontextprotocol/servers/tree/main/src/github
server.github.name=GitHub MCP Server
server.github.enabled=true
server.github.transport=stdio
server.github.command=npx
server.github.args=-y,@modelcontextprotocol/server-github
# SECRET — set in local config or env var MCP_SERVER_GITHUB_ENV_GITHUB_TOKEN
server.github.env.GITHUB_TOKEN=

# --- Filesystem MCP Server ---------------------------------------------------
# Provides: file read/write, directory listing, file search
# Install:  npm install -g @modelcontextprotocol/server-filesystem (or use npx)
# IMPORTANT: Set the allowed path in mcp-config.local.properties
server.filesystem.name=Filesystem MCP Server
server.filesystem.enabled=true
server.filesystem.transport=stdio
server.filesystem.command=npx
# Override args in local config to set your workspace path:
#   server.filesystem.args=-y,@modelcontextprotocol/server-filesystem,/your/path
server.filesystem.args=-y,@modelcontextprotocol/server-filesystem

# --- PostgreSQL Database MCP Server ------------------------------------------
server.database.name=Database MCP Server
server.database.enabled=false
server.database.transport=stdio
server.database.command=npx
server.database.args=-y,@modelcontextprotocol/server-postgres
# SECRET — set in local config or env var
server.database.env.DATABASE_URL=

# --- Slack MCP Server --------------------------------------------------------
server.slack.name=Slack MCP Server
server.slack.enabled=false
server.slack.transport=stdio
server.slack.command=npx
server.slack.args=-y,@modelcontextprotocol/server-slack
# SECRET — set in local config or env var
server.slack.env.SLACK_BOT_TOKEN=

# --- Learning Resources MCP Server --------------------------------------------
# Provides: curated vault of 30+ learning resources, web scraping, content
#           summarization, difficulty estimation, full-text search
# Built-in: Oracle docs, MDN, Baeldung, Spring, Docker, OWASP, and more
# Source:   src/server/learningresources/
server.learning-resources.name=Learning Resources
server.learning-resources.enabled=true
server.learning-resources.transport=stdio
server.learning-resources.command=java
server.learning-resources.args=-cp,out,server.learningresources.LearningResourcesServer

# --- Custom Remote MCP Server (SSE template) ---------------------------------
server.custom-api.name=Custom API Server
server.custom-api.enabled=false
server.custom-api.transport=sse
# Set URL in local config or env var
server.custom-api.url=

# --- Custom Streamable HTTP Server (template) --------------------------------
server.custom-stream.name=Custom Streaming Server
server.custom-stream.enabled=false
server.custom-stream.transport=streamable-http
# Set URL in local config or env var
server.custom-stream.url=


# =============================================================================
# 7. PROFILES — Named Override Sets
# =============================================================================
# Profiles overlay the base config. Only values that DIFFER from defaults
# need to be listed. Switch profiles by changing config.activeProfile.

# --- Development Profile -----------------------------------------------------
profile.development.description=Local development with debug logging
profile.development.preferences.logLevel=DEBUG
profile.development.preferences.timeoutSeconds=60
profile.development.location.timezone=America/New_York
profile.development.browser.launchMode=new-window
profile.development.browser.headless=false

# --- Production Profile ------------------------------------------------------
profile.production.description=Production — warn logging, strict timeouts, headless
profile.production.preferences.logLevel=WARN
profile.production.preferences.maxRetries=5
profile.production.preferences.timeoutSeconds=15
profile.production.location.region=us-east-1
profile.production.browser.headless=true

# --- Testing Profile ---------------------------------------------------------
profile.testing.description=CI/CD — headless, deterministic, no retries
profile.testing.preferences.logLevel=INFO
profile.testing.preferences.maxRetries=0
profile.testing.preferences.timeoutSeconds=10
profile.testing.location.timezone=UTC
profile.testing.browser.headless=true
profile.testing.browser.remoteDebuggingPort=9222
